<!--

Author: Michael SpÃ¶rk

Simple usersite

-->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
   xmlns:h="http://java.sun.com/jsf/html"
   xmlns:ui="http://java.sun.com/jsf/facelets"
   xmlns:f="http://java.sun.com/jsf/core"
   xmlns:p="http://primefaces.org/ui">
<h:head>
   <title>UserSite</title>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</h:head>
<h:body>

	<h:form>
		<p:panel header="User" style="width:400px">
		
		<table>
			<tr>
				<td>Username:</td>
				<td>
					<p:inputText id="userName" value="#{userSiteController.username}" label="Username">
	            	</p:inputText>
				</td>
			</tr>
			<tr>
				<td>email:</td>
				<td>
					<p:inputText id="eMail" value="#{userSiteController.email}" label="Email">
						<f:validateRegex pattern=".*\@\w*\.\w*" />
	            	</p:inputText>
				</td>
			</tr>
			<tr>
				<td>phone:</td>
				<td>
					<p:inputText id="phoneNumber" value="#{userSiteController.phoneNumber}" label="PhoneNumber">
	                	<f:validateLength minimum="3" maximum="8" />
	            	</p:inputText>
				</td>
			</tr>
		</table>

		</p:panel>
	</h:form>
		
	<p:growl id="growl" life="5000" />
	<br/>
		
	<p:commandButton value="Save" id="editUserdata" update="growl" actionListener="#{userSiteController.editUser}" styleClass="ui-priority-primary" />
	   
	<br/>
	<br/>
	
	<h:form id="contactForm" style="width:400px">
		<p:dataList value="#{userSiteController.contacts}" var="contact" type="ordered">
		      <f:facet name="header">
		          Contacts
		      </f:facet>
		      #{contact.username}, #{contact.email}
		</p:dataList>
	</h:form>
	
	<br/>
	
	<p:commandButton value="add contact" id="usersiteAddContact" update="growl" actionListener="#{userSiteController.editUser}" styleClass="ui-priority-primary" />
	<p:commandButton value="remove contact" id="usersiteRemoveContact" update="growl" actionListener="#{userSiteController.editUser}" styleClass="ui-priority-primary" />
	
	
	<!-- selection of contacts is not part of the first iteration and so the following part is commented out-->
	
	
	<!--  p:dataList value="#{userSiteController.contacts}" var="contacts" type="unordered" itemType="none" paginator="true" rows="10" styleClass="paginated">
	      <f:facet name="header">
	          Contacts
	      </f:facet>
	      <p:commandLink update=":form:contactDetail" oncomplete="PF('carDialog').show()" title="View Detail" styleClass="ui-icon ui-icon-search" style="float:left;margin-right:10px">
	         <f:setPropertyActionListener value="#{user}" target="#{userSiteController.selectedUser}" />
	         <h:outputText value="#{user.username}, #{user.email}" />
	     </p:commandLink>
	     <h:outputText value="#{user.username}, #{user.email}" style="display:inline-block"/>
	 </p:dataList>-->
    
</h:body>
</html>